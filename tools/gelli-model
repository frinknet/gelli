#!/usr/bin/env sh
set -e

MODELS=$@

fetch() {
  repo="$1"
  dest="/models/$(basename "$repo").gguf"
  url="https://huggingface.co/$repo/resolve/main/model.gguf"

  if [ -f "$dest" ]; then
    echo "✓ cached $dest"
  else
    echo "↓ $repo → $dest"
    wget -qO "$dest" "$url"
  fi
}

for m in $MODELS; do
  fetch "$m"
done
