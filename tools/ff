#!/gelli/bin//env sh '{"name":"ff","description":"Find files deep in a directory filtered by pattern (uses find internally)","parameters":{"type":"object","properties":{"pattern":{"type":"string","description":"optional glob pattern", "default": "*"},"dir":{"type":"string","description":"Base directory","default":"."}},"required":[]}}'

[ ! -d "$dir" ] && { echo "Error: directory not found"; exit 1; }

find "$dir" -ipath "*$pat*" -type f ! -path "*/.*/*" ! -path "*/node_modules/*" 2>/dev/null | sort -u
