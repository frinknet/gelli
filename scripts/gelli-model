#!/usr/bin/env sh
set -e

MODELS=${*:-${MODELS}}

fetch() {
	repo="$1"
	dest="/models/$(basename "$repo").gguf"
	url="https://huggingface.co/$repo/resolve/main/ggml-model-q4_0.gguf"

	if [ -f "$dest" ]; then
		echo "✓ cached $dest"
	else
		echo "↓ $repo → $dest"
		wget -qO "$dest" "$url"
	fi
}

for m in $MODELS; do
	fetch "$m"
done
